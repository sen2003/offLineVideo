<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <title>ç¾Šä»”æ’­æ”¾å™¨</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="manifest.json">
    
    
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">MyFlix</div>
            <div class="nav-menu">
                <button class="nav-item active" onclick="showSection('movies')">é›»å½±</button>
                <button class="nav-item" onclick="showSection('music')">éŸ³æ¨‚</button>
            </div>
        </nav>
    </header>

    <main class="main">
        
            
        </div>

        <!-- å½±ç‰‡å€å¡Š -->
        <section id="movies" class="section active">
            <h2 class="section-title">é›»å½±</h2>
            <div class="media-grid">
                <div class="media-card" onclick="openPlayer('movie', 'Movie 1', '1', './videos/sample1.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">1</div>
                        <div class="media-description">æ¸¬è©¦å½±ç‰‡æ’­æ”¾åŠŸèƒ½ã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('movie', 'Movie 2', '2', 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">2</div>
                        <div class="media-description"></div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('movie', 'Movie 3', '3', 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">3</div>
                        <div class="media-description"></div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('movie', 'Movie 4', '4', 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">4</div>
                        <div class="media-description"></div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('movie', 'Movie 5', '5', 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">5</div>
                        <div class="media-description"></div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('movie', 'Movie 6', '6', 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4')">
                    <div class="media-poster">ğŸ¬</div>
                    <div class="media-info">
                        <div class="media-title">6</div>
                        <div class="media-description"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- éŸ³æ¨‚å€å¡Š -->
        <section id="music" class="section">
            <h2 class="section-title">éŸ³æ¨‚</h2>
            <div class="media-grid">
                <div class="media-card" onclick="openPlayer('music', 'YOASOBIã€Œç¥ç¦ã€', 'å¥½è½çš„éŸ³æ¨‚', null, './music/music01.mp3')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">YOASOBIã€Œç¥ç¦ã€</div>
                        <div class="media-description">å¥½è½çš„éŸ³æ¨‚ã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('music', 'Acoustic Guitar Melody', 'æº«æš–çš„æœ¨å‰ä»–æ—‹å¾‹ï¼Œå¸¶ä¾†å¯§éœçš„æ„Ÿå—ã€‚', null, 'https://www.soundjay.com/misc/sounds/bell-ringing-05.wav', 'Acoustic Band')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">Acoustic Guitar Melody</div>
                        <div class="media-description">æº«æš–çš„æœ¨å‰ä»–æ—‹å¾‹ï¼Œå¸¶ä¾†å¯§éœçš„æ„Ÿå—ã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('music', 'Electronic Dreams', 'æœªä¾†æ„Ÿåè¶³çš„é›»å­éŸ³æ¨‚ï¼Œå……æ»¿æ´»åŠ›ã€‚', null, 'https://www.soundjay.com/misc/sounds/bell-ringing-05.wav', 'Synth Master')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">Electronic Dreams</div>
                        <div class="media-description">æœªä¾†æ„Ÿåè¶³çš„é›»å­éŸ³æ¨‚ï¼Œå……æ»¿æ´»åŠ›ã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('music', 'Jazz Night', 'ç¶“å…¸çˆµå£«æ¨‚ï¼Œç‡Ÿé€ æµªæ¼«çš„å¤œæ™šæ°›åœã€‚', null, 'https://www.soundjay.com/misc/sounds/bell-ringing-05.wav', 'Jazz Ensemble')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">Jazz Night</div>
                        <div class="media-description">ç¶“å…¸çˆµå£«æ¨‚ï¼Œç‡Ÿé€ æµªæ¼«çš„å¤œæ™šæ°›åœã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('music', 'Rock Anthem', 'æ¿€æ˜‚çš„æ–æ»¾æ¨‚ï¼Œé»ç‡ƒä½ çš„ç†±æƒ…ã€‚', null, 'https://www.soundjay.com/misc/sounds/bell-ringing-05.wav', 'Rock Band')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">Rock Anthem</div>
                        <div class="media-description">æ¿€æ˜‚çš„æ–æ»¾æ¨‚ï¼Œé»ç‡ƒä½ çš„ç†±æƒ…ã€‚</div>
                    </div>
                </div>
                <div class="media-card" onclick="openPlayer('music', 'Piano Serenade', 'å„ªç¾çš„é‹¼ç´å°å¤œæ›²ï¼Œæ’«æ…°å¿ƒéˆã€‚', null, 'https://www.soundjay.com/misc/sounds/bell-ringing-05.wav', 'Piano Virtuoso')">
                    <div class="media-poster">ğŸµ</div>
                    <div class="media-info">
                        <div class="media-title">Piano Serenade</div>
                        <div class="media-description">å„ªç¾çš„é‹¼ç´å°å¤œæ›²ï¼Œæ’«æ…°å¿ƒéˆã€‚</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© 2025 ç¾Šä»”æ’­æ”¾å™¨</p>
      </footer>
    <!-- æ’­æ”¾å™¨æ¨¡æ…‹æ¡† -->
    <div id="playerModal" class="player-modal">
        <div class="player-content">
            <div class="player-header">
                <h3 id="playerTitle">æ’­æ”¾ä¸­...</h3>
                <button class="close-btn" onclick="closePlayer()">é—œé–‰</button>
            </div>
            <div class="player-video" id="playerVideoContainer">
                <div class="video-placeholder">
                    ğŸ¬ è«‹é»é¸å½±ç‰‡é–‹å§‹æ’­æ”¾<br>
                    <small>æ”¯æ´ MP4ã€WebM ç­‰æ ¼å¼</small>
                </div>
            </div>
            <div class="player-info">
                <p id="playerDescription">å…§å®¹æè¿°...</p>
            </div>
        </div>
    </div>

    <script>

        if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./serverWorker.js')
            .then((reg) => console.log('Service Worker registered:', reg))
            .catch((err) => console.error('Service Worker registration failed:', err));
        });
        }

        let currentSection = 'movies';

        function showSection(sectionName) {
            // éš±è—æ‰€æœ‰å€å¡Š
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰å°èˆªé …ç›®çš„activeç‹€æ…‹
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // é¡¯ç¤ºé¸ä¸­çš„å€å¡Š
            document.getElementById(sectionName).classList.add('active');
            
            // ç‚ºå°æ‡‰çš„å°èˆªé …ç›®æ·»åŠ activeç‹€æ…‹
            event.target.classList.add('active');
            
            currentSection = sectionName;
        }

        function openPlayer(type, title, description, videoUrl = null, audioUrl = null, artist = null) {
            document.getElementById('playerTitle').textContent = title;
            document.getElementById('playerDescription').textContent = description;
            
            const playerVideoContainer = document.getElementById('playerVideoContainer');
            
            if (type === 'movie' && videoUrl) {
                // å‰µå»ºHTML5å½±ç‰‡æ’­æ”¾å™¨
                playerVideoContainer.innerHTML = `
                    <video controls autoplay preload="metadata" style="width: 100%; height: auto; max-height: 400px;">
                        <source src="${videoUrl}" type="video/mp4">
                        <p>æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚è«‹å˜—è©¦æ›´æ–°ç€è¦½å™¨æˆ–ä½¿ç”¨å…¶ä»–ç€è¦½å™¨ã€‚</p>
                    </video>
                `;
            } else if (type === 'music') {
                if (audioUrl) {
                    // å‰µå»ºHTML5éŸ³æ¨‚æ’­æ”¾å™¨
                    playerVideoContainer.innerHTML = `
                        <div class="audio-player">
                            <div class="audio-info">
                                <div class="audio-title">${title}</div>
                                <div class="audio-artist">${artist || 'æœªçŸ¥è—è¡“å®¶'}</div>
                            </div>
                            <audio controls autoplay preload="metadata">
                                <source src="${audioUrl}" type="audio/mpeg">
                                <source src="${audioUrl}" type="audio/wav">
                                <source src="${audioUrl}" type="audio/ogg">
                                <p>æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ¨‚æ’­æ”¾ã€‚è«‹å˜—è©¦æ›´æ–°ç€è¦½å™¨æˆ–ä½¿ç”¨å…¶ä»–ç€è¦½å™¨ã€‚</p>
                            </audio>
                        </div>
                    `;
                } else {
                    // éŸ³æ¨‚æ’­æ”¾å™¨é è¨­ç‹€æ…‹
                    playerVideoContainer.innerHTML = `
                        <div class="music-placeholder">
                            ğŸµ ${title}<br>
                            <small>éŸ³æ¨‚æ’­æ”¾å™¨å°±ç·’</small><br>
                            <small>è«‹ä¸Šå‚³éŸ³æ¨‚æª”æ¡ˆæˆ–æä¾›éŸ³æ¨‚é€£çµ</small>
                        </div>
                    `;
                }
            } else {
                playerVideoContainer.innerHTML = `
                    <div class="video-placeholder">
                        âŒ åª’é«”è¼‰å…¥å¤±æ•—<br>
                        <small>è«‹æª¢æŸ¥æª”æ¡ˆé€£çµæˆ–ç¶²è·¯é€£ç·š</small>
                    </div>
                `;
            }
            
            document.getElementById('playerModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closePlayer() {
            const playerVideoContainer = document.getElementById('playerVideoContainer');
            // åœæ­¢å½±ç‰‡æ’­æ”¾å™¨
            const video = playerVideoContainer.querySelector('video');
            if (video) {
                video.pause();
                video.currentTime = 0;
            }
            
            // åœæ­¢éŸ³æ¨‚æ’­æ”¾å™¨
            const audio = playerVideoContainer.querySelector('audio');
            if (audio) {
                audio.pause();
                audio.currentTime = 0;
            }
            
            // é‡ç½®ç‚ºé è¨­ç‹€æ…‹
            playerVideoContainer.innerHTML = `
                <div class="video-placeholder">
                    ğŸ¬ è«‹é»é¸å½±ç‰‡é–‹å§‹æ’­æ”¾<br>
                    <small>æ”¯æ´ MP4ã€WebM ç­‰æ ¼å¼</small>
                </div>
            `;
            
            document.getElementById('playerModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // é»æ“Šæ¨¡æ…‹æ¡†èƒŒæ™¯é—œé–‰æ’­æ”¾å™¨
        document.getElementById('playerModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePlayer();
            }
        });

        // ESCéµé—œé–‰æ’­æ”¾å™¨
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePlayer();
            }
        });
    </script>
</body>
</html>